;;ht.firstPage={
    init:function(){
        this.getData(this.getMoreData());
    },
    getMoreData:function(){
        var $waterLoading=$('#waterLoading');
        ht.core.waterFall(200,$waterLoading,function(){
            ht.firstPage.getData(function(){
                $waterLoading.hide();
            });
        });
    },
    page:1,
    getData:function(callback){
        if($('#waterAllShow').is(':visible')){
            $('#waterLoading').hide();
            return;
        }
        var param={
            page:ht.firstPage.page
        }
        $.getJSON('/selected_items.html',param,function(r){
            ht.core.lazyLoad();
            if(r.data.length==0){
                $('#waterLoading').hide();
                $('#waterAllShow').show();
                return;
            }
            $('#templateList').tmpl(r.data).appendTo('#dataList');
            ht.core.lazyLoad();
            ht.firstPage.page++;
            callback && callback();
        });
    }

}
$(function(){
    ht.firstPage.init();
});
