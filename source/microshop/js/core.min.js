;;QTIMES={};QTIMES.date={date_part:function(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(a.getHours()!=0){a.setTime(a.getTime()+60*60*1000*(24-a.getHours()))}return a},time_part:function(a){return(a.valueOf()/1000-a.getTimezoneOffset()*60)%86400},week_start:function(b){var a=b.getDay();if(scheduler.config.start_on_monday){if(a===0){a=6}else{a--}}return this.date_part(this.add(b,-1*a,"day"))},month_start:function(a){a.setDate(1);return this.date_part(a)},year_start:function(a){a.setMonth(0);return this.month_start(a)},day_start:function(a){return this.date_part(a)},add:function(b,c,d){var a=new Date(b.valueOf());switch(d){case"week":c*=7;case"day":a.setDate(a.getDate()+c);if(!b.getHours()&&a.getHours()){a.setTime(a.getTime()+60*60*1000*(24-a.getHours()))}break;case"month":a.setMonth(a.getMonth()+c);break;case"year":a.setYear(a.getFullYear()+c);break;case"hour":a.setHours(a.getHours()+c);break;case"minute":a.setMinutes(a.getMinutes()+c);break;default:return scheduler.date["add_"+d](b,c,d)}return a},to_fixed:function(a){if(a<10){return"0"+a}return a},copy:function(a){return new Date(a.valueOf())},date_to_str:function(b,a){b=b.replace(/%[a-zA-Z]/g,function(c){switch(c){case"%d":return'"+QTIMES.date.to_fixed(date.getDate())+"';case"%m":return'"+QTIMES.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+QTIMES.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+QTIMES.locale.date.day_short[date.getDay()]+"';case"%l":return'"+QTIMES.locale.date.day_full[date.getDay()]+"';case"%M":return'"+QTIMES.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+QTIMES.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+QTIMES.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+QTIMES.date.to_fixed(date.getHours())+"';case"%i":return'"+QTIMES.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+QTIMES.date.to_fixed(date.getSeconds())+"';case"%W":return'"+QTIMES.date.to_fixed(QTIMES.date.getISOWeek(date))+"';default:return c}});if(a){b=b.replace(/date\.get/g,"date.getUTC")}return new Function("date",'return "'+b+'";')},str_to_date:function(f,c){var e="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);";var a=f.match(/%[a-zA-Z]/g);for(var b=0;b<a.length;b++){switch(a[b]){case"%j":case"%d":e+="set[2]=temp["+b+"]||1;";break;case"%n":case"%m":e+="set[1]=(temp["+b+"]||1)-1;";break;case"%y":e+="set[0]=temp["+b+"]*1+(temp["+b+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":e+="set[3]=temp["+b+"]||0;";break;case"%i":e+="set[4]=temp["+b+"]||0;";break;case"%Y":e+="set[0]=temp["+b+"]||0;";break;case"%a":case"%A":e+="set[3]=set[3]%12+((temp["+b+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":e+="set[5]=temp["+b+"]||0;";break;case"%M":e+="set[1]=scheduler.locale.date.month_short_hash[temp["+b+"]]||0;";break;case"%F":e+="set[1]=scheduler.locale.date.month_full_hash[temp["+b+"]]||0;";break;default:break}}var d="set[0],set[1],set[2],set[3],set[4],set[5]";if(c){d=" Date.UTC("+d+")"}return new Function("date","var set=[0,0,1,0,0,0]; "+e+" return new Date("+d+");")},getISOWeek:function(c){if(!c){return false}var b=c.getDay();if(b===0){b=7}var d=new Date(c.valueOf());d.setDate(c.getDate()+(4-b));var e=d.getFullYear();var f=Math.round((d.getTime()-new Date(e,0,1).getTime())/86400000);var a=1+Math.floor(f/7);return a},getUTCISOWeek:function(a){return this.getISOWeek(this.convert_to_utc(a))},convert_to_utc:function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())}};QTIMES.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}};
;;(function(a){var r=a.fn.domManip,d="_tmplitem",q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,b={},f={},e,p={key:0,data:{}},i=0,c=0,l=[];function g(g,d,h,e){var c={data:e||(e===0||e===false)?e:d?d.data:{},_wrap:d?d._wrap:null,tmpl:null,parent:d||null,nodes:[],calls:u,nest:w,wrap:x,html:v,update:t};g&&a.extend(c,g,{nodes:[],parent:d});if(h){c.tmpl=h;c._ctnt=c._ctnt||c.tmpl(a,c);c.key=++i;(l.length?f:b)[i]=c}return c}a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,d){a.fn[f]=function(n){var g=[],i=a(n),k,h,m,l,j=this.length===1&&this[0].parentNode;e=b||{};if(j&&j.nodeType===11&&j.childNodes.length===1&&i.length===1){i[d](this[0]);g=this}else{for(h=0,m=i.length;h<m;h++){c=h;k=(h>0?this.clone(true):this).get();a(i[h])[d](k);g=g.concat(k)}c=0;g=this.pushStack(g,f,i.selector)}l=e;e=null;a.tmpl.complete(l);return g}});a.fn.extend({tmpl:function(d,c,b){return a.tmpl(this[0],d,c,b)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(d,m,k){if(d[0]&&a.isArray(d[0])){var g=a.makeArray(arguments),h=d[0],j=h.length,i=0,f;while(i<j&&!(f=a.data(h[i++],"tmplItem")));if(f&&c)g[2]=function(b){a.tmpl.afterManip(this,b,k)};r.apply(this,g)}else r.apply(this,arguments);c=0;!e&&a.tmpl.complete(b);return this}});a.extend({tmpl:function(d,h,e,c){var i,k=!c;if(k){c=p;d=a.template[d]||a.template(null,d);f={}}else if(!d){d=c.tmpl;b[c.key]=c;c.nodes=[];c.wrapped&&n(c,c.wrapped);return a(j(c,null,c.tmpl(a,c)))}if(!d)return[];if(typeof h==="function")h=h.call(c||{});e&&e.wrapped&&n(e,e.wrapped);i=a.isArray(h)?a.map(h,function(a){return a?g(e,c,d,a):null}):[g(e,c,d,h)];return k?a(j(c,null,i)):i},tmplItem:function(b){var c;if(b instanceof a)b=b[0];while(b&&b.nodeType===1&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode));return c||p},template:function(c,b){if(b){if(typeof b==="string")b=o(b);else if(b instanceof a)b=b[0]||{};if(b.nodeType)b=a.data(b,"tmpl")||a.data(b,"tmpl",o(b.innerHTML));return typeof c==="string"?(a.template[c]=b):b}return c?typeof c!=="string"?a.template(null,c):a.template[c]||a.template(null,q.test(c)?c:a(c)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){b={}},afterManip:function(f,b,d){var e=b.nodeType===11?a.makeArray(b.childNodes):b.nodeType===1?[b]:[];d.call(f,b);m(e);c++}});function j(e,g,f){var b,c=f?a.map(f,function(a){return typeof a==="string"?e.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+d+'="'+e.key+'" $2'):a:j(a,e,a._ctnt)}):e;if(g)return c;c=c.join("");c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,c,e,d){b=a(e).get();m(b);if(c)b=k(c).concat(b);if(d)b=b.concat(k(d))});return b?b:k(c)}function k(c){var b=document.createElement("div");b.innerHTML=c;return a.makeArray(b.childNodes)}function o(b){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(m,l,k,g,b,c,d){var j=a.tmpl.tag[k],i,e,f;if(!j)throw"Unknown template tag: "+k;i=j._default||[];if(c&&!/\w$/.test(b)){b+=c;c=""}if(b){b=h(b);d=d?","+h(d)+")":c?")":"";e=c?b.indexOf(".")>-1?b+h(c):"("+b+").call($item"+d:b;f=c?e:"(typeof("+b+")==='function'?("+b+").call($item):("+b+"))"}else f=e=i.$1||"null";g=h(g);return"');"+j[l?"close":"open"].split("$notnull_1").join(b?"typeof("+b+")!=='undefined' && ("+b+")!=null":"true").split("$1a").join(f).split("$1").join(e).split("$2").join(g||i.$2||"")+"__.push('"})+"');}return __;")}function n(c,b){c._wrap=j(c,true,a.isArray(b)?b:[q.test(b)?b:a(b).html()]).join("")}function h(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function s(b){var a=document.createElement("div");a.appendChild(b.cloneNode(true));return a.innerHTML}function m(o){var n="_"+c,k,j,l={},e,p,h;for(e=0,p=o.length;e<p;e++){if((k=o[e]).nodeType!==1)continue;j=k.getElementsByTagName("*");for(h=j.length-1;h>=0;h--)m(j[h]);m(k)}function m(j){var p,h=j,k,e,m;if(m=j.getAttribute(d)){while(h.parentNode&&(h=h.parentNode).nodeType===1&&!(p=h.getAttribute(d)));if(p!==m){h=h.parentNode?h.nodeType===11?0:h.getAttribute(d)||0:0;if(!(e=b[m])){e=f[m];e=g(e,b[h]||f[h]);e.key=++i;b[i]=e}c&&o(m)}j.removeAttribute(d)}else if(c&&(e=a.data(j,"tmplItem"))){o(e.key);b[e.key]=e;h=a.data(j.parentNode,"tmplItem");h=h?h.key:0}if(e){k=e;while(k&&k.key!=h){k.nodes.push(j);k=k.parent}delete e._ctnt;delete e._wrap;a.data(j,"tmplItem",e)}function o(a){a=a+n;e=l[a]=l[a]||g(e,b[e.parent.key+n]||e.parent)}}}function u(a,d,c,b){if(!a)return l.pop();l.push({_:a,tmpl:d,item:this,data:c,options:b})}function w(d,c,b){return a.tmpl(a.template(d),c,b,this)}function x(b,d){var c=b.options||{};c.wrapped=d;return a.tmpl(a.template(b.tmpl),b.data,c,b.item)}function v(d,c){var b=this._wrap;return a.map(a(a.isArray(b)?b.join(""):b).filter(d||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||s(a)})}function t(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]);a(b).remove()}})(jQuery);;(function(){(function(f,b,g){var d,a,c;c="slidesjs";a={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5000,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}};d=function(){function e(h,i){this.element=h;this.options=f.extend(!0,{},a,i);this._defaults=a;this._name=c;this.init()}return e}();d.prototype.init=function(){var p,l,j,k,m,h,e=this;p=f(this.element);this.data=f.data(this);f.data(this,"animating",!1);f.data(this,"total",p.children().not(".slidesjs-navigation",p).length);f.data(this,"current",this.options.start-1);f.data(this,"vendorPrefix",this._getVendorPrefix());if(typeof TouchEvent!="undefined"){f.data(this,"touch",!0);this.options.effect.slide.speed=this.options.effect.slide.speed/2}p.css({overflow:"hidden"});p.slidesContainer=p.children().not(".slidesjs-navigation",p).wrapAll("<div class='slidesjs-container'>",p).parent().css({overflow:"hidden",position:"relative"});f(".slidesjs-container",p).wrapInner("<div class='slidesjs-control'>",p).children();f(".slidesjs-control",p).css({position:"relative",left:0});f(".slidesjs-control",p).find(".sliderphoto").addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"});f.each(f(".slidesjs-control",p).find(".sliderphoto"),function(i){var o;o=f(this);return o.attr("slidesjs-index",i)});if(this.data.touch){f(".slidesjs-control",p).on("touchstart",function(i){return e._touchstart(i)});f(".slidesjs-control",p).on("touchmove",function(i){return e._touchmove(i)});f(".slidesjs-control",p).on("touchend",function(i){return e._touchend(i)})}p.fadeIn(0);this.update();this.data.touch&&this._setuptouch();f(".slidesjs-control",p).find(".sliderphoto:eq("+this.data.current+")").eq(0).fadeIn(0,function(){return f(this).css({zIndex:10})});if(this.options.navigation.active){m=f("<a>",{"class":"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(p);l=f("<a>",{"class":"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(p)}f(".slidesjs-next",p).click(function(i){i.preventDefault();e.stop(!0);return e.next(e.options.navigation.effect)});f(".slidesjs-previous",p).click(function(i){i.preventDefault();e.stop(!0);return e.previous(e.options.navigation.effect)});if(this.options.play.active){k=f("<a>",{"class":"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(p);h=f("<a>",{"class":"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(p);k.click(function(i){i.preventDefault();return e.play(!0)});h.click(function(i){i.preventDefault();return e.stop(!0)});this.options.play.swap&&h.css({display:"none"})}if(this.options.pagination.active){j=f("<ul>",{"class":"slidesjs-pagination"}).appendTo(p);f.each(new Array(this.data.total),function(i){var q,o;q=f("<li>",{"class":"slidesjs-pagination-item"}).appendTo(j);o=f("<a>",{href:"#","data-slidesjs-item":i,html:i+1}).appendTo(q);return o.click(function(n){n.preventDefault();e.stop(!0);return e.gotos(f(n.currentTarget).attr("data-slidesjs-item")*1+1)})})}f(b).bind("resize",function(){return e.update()});this._setActive();this.options.play.auto&&this.play();return this.options.callback.loaded(this.options.start)};d.prototype._setActive=function(e){var i,h;i=f(this.element);this.data=f.data(this);h=e>-1?e:this.data.current;f(".active",i).removeClass("active");return f(".slidesjs-pagination li:eq("+h+") a",i).addClass("active")};d.prototype.update=function(){var e,i,h;e=f(this.element);this.data=f.data(this);f(".slidesjs-control",e).find(".sliderphoto:not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0});h=e.width();i=this.options.height/this.options.width*h;this.options.width=h;this.options.height=i;return f(".slidesjs-control, .slidesjs-container",e).css({width:h,height:i})};d.prototype.next=function(e){var h;h=f(this.element);this.data=f.data(this);f.data(this,"direction","next");e===void 0&&(e=this.options.navigation.effect);return e==="fade"?this._fade():this._slide()};d.prototype.previous=function(e){var h;h=f(this.element);this.data=f.data(this);f.data(this,"direction","previous");e===void 0&&(e=this.options.navigation.effect);return e==="fade"?this._fade():this._slide()};d.prototype.gotos=function(e){var i,h;i=f(this.element);this.data=f.data(this);h===void 0&&(h=this.options.pagination.effect);e>this.data.total?e=this.data.total:e<1&&(e=1);if(typeof e=="number"){return h==="fade"?this._fade(e):this._slide(e)}if(typeof e=="string"){if(e==="first"){return h==="fade"?this._fade(0):this._slide(0)}if(e==="last"){return h==="fade"?this._fade(this.data.total):this._slide(this.data.total)}}};d.prototype._setuptouch=function(){var h,k,j,e;h=f(this.element);this.data=f.data(this);e=f(".slidesjs-control",h);k=this.data.current+1;j=this.data.current-1;j<0&&(j=this.data.total-1);k>this.data.total-1&&(k=0);e.find(".sliderphoto:eq("+k+")").css({display:"block",left:this.options.width});return e.find(".sliderphoto:eq("+j+")").css({display:"block",left:-this.options.width})};d.prototype._touchstart=function(e){var i,h;i=f(this.element);this.data=f.data(this);h=e.originalEvent.touches[0];this._setuptouch();f.data(this,"touchtimer",Number(new Date));f.data(this,"touchstartx",h.pageX);f.data(this,"touchstarty",h.pageY);return e.stopPropagation()};d.prototype._touchend=function(q){var j,e,k,v,h,p,m,l=this;j=f(this.element);this.data=f.data(this);p=q.originalEvent.touches[0];v=f(".slidesjs-control",j);if(v.position().left>this.options.width*0.5||v.position().left>this.options.width*0.1&&Number(new Date)-this.data.touchtimer<250){f.data(this,"direction","previous");this._slide()}else{if(v.position().left<-(this.options.width*0.5)||v.position().left<-(this.options.width*0.1)&&Number(new Date)-this.data.touchtimer<250){f.data(this,"direction","next");this._slide()}else{k=this.data.vendorPrefix;m=k+"Transform";e=k+"TransitionDuration";h=k+"TransitionTimingFunction";v[0].style[m]="translateX(0px)";v[0].style[e]=this.options.effect.slide.speed*0.85+"ms"}}v.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){k=l.data.vendorPrefix;m=k+"Transform";e=k+"TransitionDuration";h=k+"TransitionTimingFunction";v[0].style[m]="";v[0].style[e]="";return v[0].style[h]=""});return q.stopPropagation()};d.prototype._touchmove=function(h){var m,k,e,j,l;m=f(this.element);this.data=f.data(this);j=h.originalEvent.touches[0];k=this.data.vendorPrefix;e=f(".slidesjs-control",m);l=k+"Transform";f.data(this,"scrolling",Math.abs(j.pageX-this.data.touchstartx)<Math.abs(j.pageY-this.data.touchstarty));if(!this.data.animating&&!this.data.scrolling){h.preventDefault();this._setuptouch();e[0].style[l]="translateX("+(j.pageX-this.data.touchstartx)+"px)"}return h.stopPropagation()};d.prototype.play=function(h){var l,k,e,j=this;l=f(this.element);this.data=f.data(this);if(!this.data.playInterval){if(h){k=this.data.current;this.data.direction="next";this.options.play.effect==="fade"?this._fade():this._slide()}f.data(this,"playInterval",setInterval(function(){k=j.data.current;j.data.direction="next";return j.options.play.effect==="fade"?j._fade():j._slide()},this.options.play.interval));e=f(".slidesjs-container",l);if(this.options.play.pauseOnHover){e.unbind();e.bind("mouseenter",function(){return j.stop()});e.bind("mouseleave",function(){return j.options.play.restartDelay?f.data(j,"restartDelay",setTimeout(function(){return j.play(!0)},j.options.play.restartDelay)):j.play()})}f.data(this,"playing",!0);f(".slidesjs-play",l).addClass("slidesjs-playing");if(this.options.play.swap){f(".slidesjs-play",l).hide();return f(".slidesjs-stop",l).show()}}};d.prototype.stop=function(e){var h;h=f(this.element);this.data=f.data(this);clearInterval(this.data.playInterval);this.options.play.pauseOnHover&&e&&f(".slidesjs-container",h).unbind();f.data(this,"playInterval",null);f.data(this,"playing",!1);f(".slidesjs-play",h).removeClass("slidesjs-playing");if(this.options.play.swap){f(".slidesjs-stop",h).hide();return f(".slidesjs-play",h).show()}};d.prototype._slide=function(z){var k,e,p,A,j,y,x,v,m,w,q=this;k=f(this.element);this.data=f.data(this);if(!this.data.animating&&z!==this.data.current+1){f.data(this,"animating",!0);e=this.data.current;if(z>-1){z-=1;w=z>e?1:-1;p=z>e?-this.options.width:this.options.width;j=z}else{w=this.data.direction==="next"?1:-1;p=this.data.direction==="next"?-this.options.width:this.options.width;j=e+w}j===-1&&(j=this.data.total-1);j===this.data.total&&(j=0);this._setActive(j);x=f(".slidesjs-control",k);z>-1&&x.find(".sliderphoto:not(:eq("+e+"))").css({display:"none",left:0,zIndex:0});x.find(".sliderphoto:eq("+j+")").css({display:"block",left:w*this.options.width,zIndex:10});this.options.callback.start(e+1);if(this.data.vendorPrefix){y=this.data.vendorPrefix;m=y+"Transform";A=y+"TransitionDuration";v=y+"TransitionTimingFunction";x[0].style[m]="translateX("+p+"px)";x[0].style[A]=this.options.effect.slide.speed+"ms";return x.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){x[0].style[m]="";x[0].style[A]="";x.find(".sliderphoto:eq("+j+")").css({left:0});x.find(".sliderphoto:eq("+e+")").css({display:"none",left:0,zIndex:0});f.data(q,"current",j);f.data(q,"animating",!1);x.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd");x.find(".sliderphoto:not(:eq("+j+"))").css({display:"none",left:0,zIndex:0});q.data.touch&&q._setuptouch();return q.options.callback.complete(j+1)})}return x.stop().animate({left:p},this.options.effect.slide.speed,function(){x.css({left:0});x.find(".sliderphoto:eq("+j+")").css({left:0});return x.find(".sliderphoto:eq("+e+")").css({display:"none",left:0,zIndex:0},f.data(q,"current",j),f.data(q,"animating",!1),q.options.callback.complete(j+1))})}};d.prototype._fade=function(j){var p,l,h,k,m,e=this;p=f(this.element);this.data=f.data(this);if(!this.data.animating&&j!==this.data.current+1){f.data(this,"animating",!0);l=this.data.current;if(j){j-=1;m=j>l?1:-1;h=j}else{m=this.data.direction==="next"?1:-1;h=l+m}h===-1&&(h=this.data.total-1);h===this.data.total&&(h=0);this._setActive(h);k=f(".slidesjs-control",p);k.find(".sliderphoto:eq("+h+")").css({display:"none",left:0,zIndex:10});this.options.callback.start(l+1);if(this.options.effect.fade.crossfade){k.find(".sliderphoto:eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed);return k.find(".sliderphoto:eq("+h+")").stop().fadeIn(this.options.effect.fade.speed,function(){k.find(".sliderphoto:eq("+h+")").css({zIndex:0});f.data(e,"animating",!1);f.data(e,"current",h);return e.options.callback.complete(h+1)})}return k.find(".sliderphoto:eq("+l+")").stop().fadeOut(this.options.effect.fade.speed,function(){k.find(".sliderphoto:eq("+h+")").stop().fadeIn(e.options.effect.fade.speed,function(){return k.find(".sliderphoto:eq("+h+")").css({zIndex:10})});f.data(e,"animating",!1);f.data(e,"current",h);return e.options.callback.complete(h+1)})}};d.prototype._getVendorPrefix=function(){var m,j,l,h,k;m=g.body||g.documentElement;l=m.style;h="transition";k=["Moz","Webkit","Khtml","O","ms"];h=h.charAt(0).toUpperCase()+h.substr(1);j=0;while(j<k.length){if(typeof l[k[j]+h]=="string"){return k[j]}j++}return !1};return f.fn[c]=function(e){return this.each(function(){if(!f.data(this,"plugin_"+c)){return f.data(this,"plugin_"+c,new d(this,e))}})}})(jQuery,window,document)}).call(this);;;
(function(d,c){if(typeof define==="function"&&define.amd){define(function(){return c(d)})}else{if(typeof exports==="object"){module.exports=c}else{d.echo=c(d)}}})(this,function(o){var u={};var m=function(){};var t,p,s,n,r;var q=function(a){return(a.offsetParent===null)};var l=function(a,b){if(q(a)){return false}var c=a.getBoundingClientRect();return(c.right>=b.l&&c.bottom>=b.t&&c.left<=b.r&&c.top<=b.b)};var v=function(){if(!n&&!!p){return}clearTimeout(p);p=setTimeout(function(){u.render();p=null},s)};u.init=function(c){c=c||{};var e=c.offset||0;var b=c.offsetVertical||e;var a=c.offsetHorizontal||e;var d=function(g,f){return parseInt(g||f,10)};t={t:d(c.offsetTop,b),b:d(c.offsetBottom,b),l:d(c.offsetLeft,a),r:d(c.offsetRight,a)};s=d(c.throttle,250);n=c.debounce!==false;r=!!c.unload;m=c.callback||m;u.render();if(document.addEventListener){o.addEventListener("scroll",v,false);o.addEventListener("load",v,false)}else{o.attachEvent("onscroll",v);o.attachEvent("onload",v)}};u.render=function(){var g=document.querySelectorAll("img[data-src], [data-src-background]");var a=g.length;var c,e;var b={l:0-t.l,t:0-t.t,b:(o.innerHeight||document.documentElement.clientHeight)+t.b,r:(o.innerWidth||document.documentElement.clientWidth)+t.r};for(var f=0;f<a;f++){e=g[f];if(l(e,b)){if(r){e.setAttribute("data-src-placeholder",e.src)}if(e.getAttribute("data-src-background")!==null){e.style.backgroundImage="url("+e.getAttribute("data-src-background")+")"}else{var d=e.getAttribute("data-src");d=e.getAttribute("data-width")?d+e.getAttribute("data-width"):d;e.src=d}if(!r){e.removeAttribute("data-src");e.removeAttribute("data-src-background")}m(e,"load")}else{if(r&&!!(c=e.getAttribute("data-src-placeholder"))){if(e.getAttribute("data-src-background")!==null){e.style.backgroundImage="url("+c+")"}else{c=e.getAttribute("data-width")?c+e.getAttribute("data-width"):c;e.src=c}e.removeAttribute("data-src-placeholder");m(e,"unload")}}}if(!a){u.detach()}};u.detach=function(){if(document.removeEventListener){o.removeEventListener("scroll",v)}else{o.detachEvent("onscroll",v)}clearTimeout(p)};return u});

;;ht={
    core:{
        init:function(){
            this.lazyLoad();
            this.scrollBack();
            this.openMenu();
            this.history();
            this.getUser();
            this.logout();
        },
        ops:{
            //不同保税仓的上税规则
            tax:[
                {taxRate:50,maxPrice:1000,txt:'国外',payTax:1},
                {taxRate:0,maxPrice:0,txt:'国内',payTax:0}
            ]
        },
        cookies:{
            // write cookies
            set:function(name, value, hours,domain){
                var expire = "";
                if(hours != null)
                {
                    expire = new Date((new Date()).getTime() + hours * 3600000);
                    expire = "; expires=" + expire.toGMTString();
                }
                var str=name + "=" + escape(value) + expire+";path=/";
                if(domain) str+='; domain='+domain;
                document.cookie = str;
            },
            // read cookies
            get:function(name){
                var cookieValue = "";
                var search = name + "=";
                if(document.cookie.length > 0)
                {
                    offset = document.cookie.indexOf(search);
                    if (offset != -1)
                    {
                        offset += search.length;
                        end = document.cookie.indexOf(";", offset);
                        if (end == -1) end = document.cookie.length;
                        cookieValue = unescape(document.cookie.substring(offset, end))
                    }
                }
                return cookieValue;
            }
        },
        getUser:function(){
            if(window.location.href.indexOf('/h5/')>-1){
                return;
            }
            $.getJSON('/getuserinfo.html',function(r){
                if(r.state==200){
                    if(typeof(isApp)!='undefined'){
                        $('#nickname').html(r.nick_name);
                    }else{
                        var str='<span class=name id=currentUsername>'+ r.nick_name +'</span><span class=sep>|</span><a href="javascript:void(0)" rel=nofollow id=logoutLink>退出</a>';
                        $('#leftNav2').html(str);
                    }
                }else{
                    if(typeof(isApp)!='undefined'){
                        window.location.href='/app/login.html?next='+window.location.href;
                    }
                }
            });
        },
        logout:function(){
            var _this=this;
            $('#leftNav2').on('click','#logoutLink',function(){
                _this.cookies.set('fenxiao_loginuser','',-10,'.qqqg.com');
                _this.cookies.set('fenxiao_loginuser','',-10);
                var url=window.location.href;
                if(url.indexOf('#')>-1){
                    url=url.replace(/#/g,'');
                }
                window.location.href=url;
            });
        },
        lazyLoad:function(){
            echo.init({
                offset: 100,
                throttle: 250,
                unload: false,
                callback: function (element, op) {
                    //console.log(element.src, 'has been', op + 'ed')
                }
            });
        },
        getQuery:function(name){
            var myLocation=window.location.href;
            var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
            var r = myLocation.substr(myLocation.indexOf("\?")+1).match(reg);
            if (r!=null) return unescape(r[2]); return null;
        },
        getOnePic:function(pic){
            return pic.indexOf(';')>-1?pic.split(';')[0]:pic;
        },
        waterFall:function(h,$objLoading,callback){
            $(window).on("scroll", function () {
                var s=$(window).scrollTop();
                var $this =$(this),
                    viewH =$(window).height() ,//可见高度
                    contentH =$(document).height() ,//内容高度
                    scrollTop =$(this).scrollTop();//滚动高度
                if((contentH - viewH - scrollTop <= h) && $objLoading.is(":hidden")  ) {
                    $objLoading.show();
                    callback && callback();
                }
            });
        },
        scrollBack:function(){
            $(window).on("scroll", function () {
                var s=$(window).scrollTop();
                s > 100 ? $('#m-gotop-wrap').addClass('show') : $('#m-gotop-wrap').removeClass('show');

                var $this =$(this),
                    viewH =$(window).height() ,//可见高度
                    contentH =$(document).height() ,//内容高度
                    scrollTop =$(this).scrollTop();//滚动高度
                if(contentH - viewH - scrollTop <= 100) {
                    //$('.m-loading').show();
                    $('.m-docfoot').show();
                }
            });
            $('#m-gotop-wrap').click(function(){
                $('body,html').animate({scrollTop:0},1000);
            });
        },
        openMenu:function(){
            $('#menu').click(function(){
                var $obj=$('#topbar-box');
                if($obj.hasClass('j-navopen')){
                    $('#topbar-box').removeClass('j-navopen');
                }else{
                    $('#topbar-box').addClass('j-navopen');
                }
            });
        },
        history:function(){
            $('#backbtn').click(function(){
                history.back();
            });
        },
        slider:{
            opt:{
                active: false,
                auto: true,
                interval: 4000,
                swap: true
            },
            run:function(){
                $('#slides').slidesjs({
                    width: 640,
                    height: 450,
                    navigation: false,
                    play: ht.core.slider.opt
                });
            }
        },
        setCountDown:function($obj,str){
            var m=parseInt($obj.attr('v'),10);
            var n=m-1;
            if (n>0) {
                $obj.html('重新获取('+n+')').attr('v',n).addClass("btn_enabled");
                var timeout=setTimeout(function(){
                    ht.core.setCountDown($obj,str);
                },1000);
            } else {
                clearTimeout(timeout);
                $obj.html(str).removeClass("btn_enabled");
            }
        },
        popUp:{
            init:function(){
                var str='<div id="popUp" class="m-toast" style="display: none;"><table width="100%" height="100%" cellspacing="0" cellpadding="0" border="0"><tr><td width="100%" valign="center" align="center"><div class="toast box animated info show zoomIn"></div></table></div>';
                !$('#popUp')[0] && $('body').append(str);

            },
            show:function(s){
                var $popUp=$('#popUp');
                $popUp.find('.box').html(s);
                $popUp.show();
                setTimeout(function(){$('#popUp').hide();
                },1000);
            }
        },
        dialog:{
            template:'<div class="m-dialog {{= custClass}}" id="m-dialog">{{if confirm}}<div class="confirm {{= _aniClass}}"><div class="txt">{{= confirm.text}}</div><div class="btns {{if confirm.btns.length===1}}btns-1{{else}}btns-2{{/if}}">{{each confirm.btns}}<span class="btn {{= $value.action}}">{{= $value.text}}</span>{{/each}}</div></div>{{else}} <div class="content  {{= _aniClass}}"><div class="text">{{= content}}</div></div>{{/if}} </div>',
            compileTempl:function(){
                var _this=this;
                $.template('templateDialog', _this.template);
            },
            init: function () {
                this.compileTempl();
                this.bindEvent();
            },
            bindEvent:function(){
                $('body').on('click','#m-dialog .close',function(){
                    $('#m-dialog').remove();
                });
            },
            yes:function(callback){
                $('body').off('click','#m-dialog .ok');
                $('body').on('click','#m-dialog .ok',function(){
                    callback && callback();
                });
            },
            show:function(data){
                $('#m-dialog').remove();
                $.tmpl('templateDialog', data).appendTo('body');
            },
            hide:function(){
                $('#m-dialog').remove();
            }
        },
        regular:{
            "phone": /^1\d{10}$/,
            "idcard": function (gets,obj,curform,datatype) {
                var Wi = [ 7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1 ];// 加权因子;
                var ValideCode = [ 1, 0, 10, 9, 8, 7, 6, 5, 4, 3, 2 ];// 身份证验证位值，10代表X;

                if (gets.length == 15) {
                    return isValidityBrithBy15IdCard(gets);
                }else if (gets.length == 18){
                    var a_idCard = gets.split("");// 得到身份证数组
                    if (isValidityBrithBy18IdCard(gets)&&isTrueValidateCodeBy18IdCard(a_idCard)) {
                        return true;
                    }
                    return false;
                }
                return false;

                function isTrueValidateCodeBy18IdCard(a_idCard) {
                    var sum = 0; // 声明加权求和变量
                    if (a_idCard[17].toLowerCase() == 'x') {
                        a_idCard[17] = 10;// 将最后位为x的验证码替换为10方便后续操作
                    }
                    for ( var i = 0; i < 17; i++) {
                        sum += Wi[i] * a_idCard[i];// 加权求和
                    }
                    valCodePosition = sum % 11;// 得到验证码所位置
                    if (a_idCard[17] == ValideCode[valCodePosition]) {
                        return true;
                    }
                    return false;
                }

                function isValidityBrithBy18IdCard(idCard18){
                    var year = idCard18.substring(6,10);
                    var month = idCard18.substring(10,12);
                    var day = idCard18.substring(12,14);
                    var temp_date = new Date(year,parseFloat(month)-1,parseFloat(day));
                    // 这里用getFullYear()获取年份，避免千年虫问题
                    if(temp_date.getFullYear()!=parseFloat(year) || temp_date.getMonth()!=parseFloat(month)-1 || temp_date.getDate()!=parseFloat(day)){
                        return false;
                    }
                    return true;
                }

                function isValidityBrithBy15IdCard(idCard15){
                    var year =  idCard15.substring(6,8);
                    var month = idCard15.substring(8,10);
                    var day = idCard15.substring(10,12);
                    var temp_date = new Date(year,parseFloat(month)-1,parseFloat(day));
                    // 对于老身份证中的你年龄则不需考虑千年虫问题而使用getYear()方法
                    if(temp_date.getYear()!=parseFloat(year) || temp_date.getMonth()!=parseFloat(month)-1 || temp_date.getDate()!=parseFloat(day)){
                        return false;
                    }
                    return true;
                }


            }
        },
        location:{
            init:function(){
                this.compileSelOption();
                this.bindEvent();
            },
            compileSelOption:function(){
                var strTemplateSelOption='<option class="option" value="{{= id}}" title="{{= name}}">{{= name}}</option>';
                $.template('templateSel', strTemplateSelOption);
            },
            locationClass:[
                'zp-province',
                'zp-city',
                'zp-district'
            ],
            locationTxt:[
                '--省/直辖市--',
                '--市--',
                '--县/区--'
            ],
            getLocation:function(isEdit,callback){
                this.get(null,this.locationClass[0],0,$('#province'),isEdit,callback);
            },
            get:function(param,className,index,$parent,isEdit,callback){
                var _this=this;
                $.get('/common/location.html',param,function(r){
                    var r=JSON.parse(r);
                    r.zClass=className;
                    r.locationTxt=_this.locationTxt[index];
                    $parent.empty();
                    var i=index-1;
                    var myOption={
                        id:-1,
                        name:''
                    }
                    if(i!=1){
                        $('body').data('locationDone',0);
                    }
                    switch (i){
                        case 0:
                            myOption.name='市';
                            r.data.unshift(myOption);
                            break;
                        case 1:
                            myOption.name='区';
                            r.data.unshift(myOption);
                            break;
                    }

                    var n=index>0?1:0;

                    $.tmpl('templateSel', r.data).appendTo($parent);
                    if(isEdit==0){
                        $('.m-select').eq(index).get(0).selectedIndex=0;
                        $('.m-select').eq(index).change();
                    }else{
                        callback && callback(r);
                    }


                });
            },
            getChild:function(index,n,callback){
                var _this=this;
                var $this=$('.m-select').eq(index).find('.option:eq('+n+')')
                var txt=$this.html();
                var val=$this.attr('value');
                var cName=_this.locationClass[index+1];

                var param={
                    parent_id:val
                }
                if(index==0){
                    param.query_type='city';
                    $parent=$('#city');
                }else if(index==1){
                    param.query_type='area';
                    $parent=$('#area');
                }else{
                    callback && callback();
                    return;
                }
                var txtIndex=index+1;
                _this.get(param,cName,txtIndex,$parent,callback);
            },
            bindEvent:function(){
                var _this=this;
                $('body').on('change','select',function(){
                    var $root=$(this).parent();;
                    var index=$('.m-select').index($(this));
                    var txt=$(this).find("option:selected").text();
                    var val=$(this).attr('value');
                    var cName=_this.locationClass[index+1];
                    var param={
                        parent_id:val
                    }
                    if(index==0){
                        param.query_type='city';
                        $parent=$('#city');
                    }else if(index==1){
                        param.query_type='area';
                        $parent=$('#area');
                    }else{
                        return;
                    }
                    var txtIndex=index+1;
                    _this.get(param,cName,txtIndex,$parent,0);
                });
            }
        }
    }
}
$(function() {
    ht.core.init();
});
function appBack(){
    history.length>1 && history.back();
}
