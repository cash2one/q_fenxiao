function yqGetQuery(t){var e=window.location.href,o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=e.substr(e.indexOf("?")+1).match(o);return null!=a?unescape(a[2]):null}"m_mobile"!=yqGetQuery("device")&&/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())&&(window.location.href="http://m.qqqg.com");var JSON;JSON||(JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var o,a,i,n,r,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(n=l.length,o=0;n>o;o+=1)r[o]=str(o,l)||"null";return i=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(n=rep.length,o=0;n>o;o+=1)"string"==typeof rep[o]&&(a=rep[o],i=str(a,l),i&&r.push(quote(a)+(gap?": ":":")+i));else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(i=str(a,l),i&&r.push(quote(a)+(gap?": ":":")+i));return i=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,o){var a;if(gap="",indent="","number"==typeof o)for(a=0;o>a;a+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var o,a,i=t[e];if(i&&"object"==typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a=walk(i,o),void 0!==a?i[o]=a:delete i[o]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(t,e,o,a){var i=t(e);t.fn.lazyload=function(n){function r(){var e=0;l.each(function(){var o=t(this);if(!c.skip_invisible||o.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else o.trigger("appear"),e=0})}var s,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(a!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),a!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),t.extend(c,n)),s=c.container===a||c.container===e?i:t(c.container),0===c.event.indexOf("scroll")&&s.bind(c.event,function(){return r()}),this.each(function(){var e=this,o=t(e);e.loaded=!1,(o.attr("src")===a||o.attr("src")===!1)&&o.is("img")&&o.attr("src",c.placeholder),o.one("appear",function(){if(!this.loaded){if(c.appear){var a=l.length;c.appear.call(e,a,c)}t("<img />").bind("load",function(){var a=o.attr("data-"+c.data_attribute);o.hide(),o.is("img")?o.attr("src",a):o.css("background-image","url('"+a+"')"),o[c.effect](c.effect_speed),e.loaded=!0;var i=t.grep(l,function(t){return!t.loaded});if(l=t(i),c.load){var n=l.length;c.load.call(e,n,c)}}).attr("src",o.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&o.bind(c.event,function(){e.loaded||o.trigger("appear")})}),i.bind("resize",function(){r()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(o).ready(function(){r()}),this},t.belowthefold=function(o,n){var r;return r=n.container===a||n.container===e?(e.innerHeight?e.innerHeight:i.height())+i.scrollTop():t(n.container).offset().top+t(n.container).height(),r<=t(o).offset().top-n.threshold},t.rightoffold=function(o,n){var r;return r=n.container===a||n.container===e?i.width()+i.scrollLeft():t(n.container).offset().left+t(n.container).width(),r<=t(o).offset().left-n.threshold},t.abovethetop=function(o,n){var r;return r=n.container===a||n.container===e?i.scrollTop():t(n.container).offset().top,r>=t(o).offset().top+n.threshold+t(o).height()},t.leftofbegin=function(o,n){var r;return r=n.container===a||n.container===e?i.scrollLeft():t(n.container).offset().left,r>=t(o).offset().left+n.threshold+t(o).width()},t.inviewport=function(e,o){return!(t.rightoffold(e,o)||t.leftofbegin(e,o)||t.belowthefold(e,o)||t.abovethetop(e,o))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),$.extend({getMyScript:function(t,e,o){return jQuery.isFunction(e)&&(o=e,e={}),jQuery.ajax({type:"get",url:t,data:e,success:o,dataType:"script",cache:!0})}}),QTIMES={},QTIMES.date={date_part:function(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),0!=t.getHours()&&t.setTime(t.getTime()+36e5*(24-t.getHours())),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(t){var e=t.getDay();return scheduler.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(t,-1*e,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},add:function(t,e,o){var a=new Date(t.valueOf());switch(o){case"week":e*=7;case"day":a.setDate(a.getDate()+e),!t.getHours()&&a.getHours()&&a.setTime(a.getTime()+36e5*(24-a.getHours()));break;case"month":a.setMonth(a.getMonth()+e);break;case"year":a.setYear(a.getFullYear()+e);break;case"hour":a.setHours(a.getHours()+e);break;case"minute":a.setMinutes(a.getMinutes()+e);break;default:return scheduler.date["add_"+o](t,e,o)}return a},to_fixed:function(t){return 10>t?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(t,e){return t=t.replace(/%[a-zA-Z]/g,function(t){switch(t){case"%d":return'"+QTIMES.date.to_fixed(date.getDate())+"';case"%m":return'"+QTIMES.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+QTIMES.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+QTIMES.locale.date.day_short[date.getDay()]+"';case"%l":return'"+QTIMES.locale.date.day_full[date.getDay()]+"';case"%M":return'"+QTIMES.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+QTIMES.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+QTIMES.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+QTIMES.date.to_fixed(date.getHours())+"';case"%i":return'"+QTIMES.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+QTIMES.date.to_fixed(date.getSeconds())+"';case"%W":return'"+QTIMES.date.to_fixed(QTIMES.date.getISOWeek(date))+"';default:return t}}),e&&(t=t.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+t+'";')},str_to_date:function(t,e){for(var o="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",a=t.match(/%[a-zA-Z]/g),i=0;i<a.length;i++)switch(a[i]){case"%j":case"%d":o+="set[2]=temp["+i+"]||1;";break;case"%n":case"%m":o+="set[1]=(temp["+i+"]||1)-1;";break;case"%y":o+="set[0]=temp["+i+"]*1+(temp["+i+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":o+="set[3]=temp["+i+"]||0;";break;case"%i":o+="set[4]=temp["+i+"]||0;";break;case"%Y":o+="set[0]=temp["+i+"]||0;";break;case"%a":case"%A":o+="set[3]=set[3]%12+((temp["+i+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":o+="set[5]=temp["+i+"]||0;";break;case"%M":o+="set[1]=scheduler.locale.date.month_short_hash[temp["+i+"]]||0;";break;case"%F":o+="set[1]=scheduler.locale.date.month_full_hash[temp["+i+"]]||0;"}var n="set[0],set[1],set[2],set[3],set[4],set[5]";return e&&(n=" Date.UTC("+n+")"),new Function("date","var set=[0,0,1,0,0,0]; "+o+" return new Date("+n+");")},getISOWeek:function(t){if(!t)return!1;var e=t.getDay();0===e&&(e=7);var o=new Date(t.valueOf());o.setDate(t.getDate()+(4-e));var a=o.getFullYear(),i=Math.round((o.getTime()-new Date(a,0,1).getTime())/864e5),n=1+Math.floor(i/7);return n},getUTCISOWeek:function(t){return this.getISOWeek(this.convert_to_utc(t))},convert_to_utc:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}},QTIMES.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},function(t,e){ht={},ht.util={init:function(){this.searchBanner.init(),this.alpha(),this.lazyLoadPhoto.init(),this.siderStickySearch.init(),this.nav.init(),this.catalog.init(),this.loginDialog.init(),this.login.init(),this.shopcarts.init(),this.catagroy.init()},checkPictureType:function(t){var e=/\.(gif|jpe?g|png)$/i;return e.test(t)?1:0},ops:{tax:[{id:0,taxRate:50,maxPrice:1e3,txt:"国外",payTax:1},{id:1,taxRate:0,maxPrice:0,txt:"国内",payTax:0}]},catagroy:{init:function(){$("#funcTab")[0]&&(this.bindEvent(),this.get())},bindEvent:function(){$("#funcTab .item").hover(function(){$(this).addClass("navhover")},function(){$(this).removeClass("navhover")})},parseData:function(t){for(var t=t,e=0,o=t.length;o>e;e++)for(var a=0,i=t[e].categorys.length;i>a;a++)t[e].categorys[a].sons=[];return t},get:function(){$.get("/item/nav.html",function(t){if(t=JSON.parse(t),200==t.state){for(var e={},o=ht.util.catagroy.parseData(t.categorys),a=0,i=o.length;i>a;a++){for(var n=0,r=o[a].categorys.length;r>n;n++)for(var s=0;s<o[a].categorys[n].attributes.length;s++)if(o[a].categorys[n].attributes[s].value)for(var l=0;l<o[a].categorys[n].attributes[s].value.length;l++)o[a].categorys[n].attributes[s].value[l].attribute_id=o[a].categorys[n].attributes[s].attribute_id,o[a].categorys[n].attributes[s].value[l].show_id=o[a].categorys[n].show_id,o[a].categorys[n].sons.push(o[a].categorys[n].attributes[s].value[l]);e[o[a].top_category_id]=o[a].categorys}$("#funcTab .item[data-cate-id]").each(function(){var t=$(this).attr("data-cate-id");e[t].length>0&&($(this).append('<div class="m-ctgcard f-cb"><div class="f-fl m-ctglist"><div class="m-ctgtbl"></div></div></div>'),$("#templateCates").tmpl(e[t]).appendTo($(this).find(".m-ctgtbl")))})}})}},checkPictureType:function(t){var e=/\.(gif|jpe?g|png)$/i;return e.test(t)},getQuery:function(e){var o=t.location.href,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=o.substr(o.indexOf("?")+1).match(a);return null!=i?unescape(i[2]):null},cookies:{set:function(t,e,o,a){var i="";null!=o&&(i=new Date((new Date).getTime()+36e5*o),i="; expires="+i.toGMTString());var n=t+"="+escape(e)+i+";path=/";a&&(n+="; domain="+a),document.cookie=n},get:function(t){var e="",o=t+"=";return document.cookie.length>0&&(offset=document.cookie.indexOf(o),-1!=offset&&(offset+=o.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length),e=unescape(document.cookie.substring(offset,end)))),e}},alpha:function(){$("#rightBar2 .m-app2").remove()},lazyLoadPhoto:{init:function(){$("img.img-lazyload").lazyload()}},siderStickySearch:{init:function(){$("#banner-box")[0]&&(ht.util.slider.init(),ht.util.stickySearch())}},searchBanner:{init:function(){this.bindEvent()},bindEvent:function(){$("#htHeader").on("click",".itemVal",function(){t.open("/search.html?key="+escape($(this).text()))})}},stickySearch:function(){var e=$("#topTabBox");if(e[0]){var o=e.offset().top;$(t).on("scroll",function(){var a=$(t).scrollTop();a>o?e.addClass("topTabBoxFixed"):e.removeClass("topTabBoxFixed")})}},shopcarts:{init:function(){this.cartproducts()},cartproducts:function(){$(".shopcart").click(function(){return $(this).closest("form")[0].submit(),!1})}},validformParam:{datatype:{"*6-20":/^[^\s]{6,20}$/,"z2-9":/^[\u4E00-\u9FA5\uf900-\ufa2d]{2,9}$/,phone:/^1\d{10}$/,local:function(){var t=!0;return $("#provicecityarea .ellipsis").each(function(){""==$("#provicecityarea .ellipsis").attr("value")&&(t=!1)}),t},idcard:function(t,e,o,a){function i(t){var e=0;"x"==t[17].toLowerCase()&&(t[17]=10);for(var o=0;17>o;o++)e+=s[o]*t[o];return valCodePosition=e%11,t[17]==l[valCodePosition]?!0:!1}function n(t){var e=t.substring(6,10),o=t.substring(10,12),a=t.substring(12,14),i=new Date(e,parseFloat(o)-1,parseFloat(a));return i.getFullYear()!=parseFloat(e)||i.getMonth()!=parseFloat(o)-1||i.getDate()!=parseFloat(a)?!1:!0}function r(t){var e=t.substring(6,8),o=t.substring(8,10),a=t.substring(10,12),i=new Date(e,parseFloat(o)-1,parseFloat(a));return i.getYear()!=parseFloat(e)||i.getMonth()!=parseFloat(o)-1||i.getDate()!=parseFloat(a)?!1:!0}var s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],l=[1,0,10,9,8,7,6,5,4,3,2];if(15==t.length)return r(t);if(18==t.length){var c=t.split("");return n(t)&&i(c)?!0:!1}return!1}}},location:{init:function(){this.getLocation(),this.bindEvent()},locationClass:["zp-province","zp-city","zp-district"],locationTxt:["--省/直辖市--","--市--","--县/区--"],getLocation:function(){$("#locationValue").append('<input type="hidden" id="myLocation" name="myLocation"  autocomplete="off" datatype="*" nullmsg="请选择省市区！" errormsg="请选择省市区"  />');var t='<input type="hidden" id="province" name="province"  autocomplete="off"  />';t+='<input type="hidden" id="city" name="city"  autocomplete="off"   />',t+='<input type="hidden" id="area" name="area"  autocomplete="off"   />',$("#locationValue").append(t),this.get(null,this.locationClass[0],0)},get:function(t,e,o,a){var i=this;$.get("/common/location.html",t,function(t){var t=JSON.parse(t);t.zClass=e,t.locationTxt=i.locationTxt[o],$("#templateLocation").tmpl(t).appendTo("#provicecityarea"),a&&a()})},bindEvent:function(){var t=this;$(document).click(function(t){var e=$(t.target);0==e.closest(".nselect-wrap").length&&($(".options").hide(),$(this).find(".cp-arrow").removeClass("cp-arrow-up").addClass("cp-arrow-down"))}),$("body").on("click",".nselect-wrap",function(){if($(this).find(".cp-arrow").hasClass("cp-arrow-down")){$(this).index();$(".cp-arrow").removeClass("cp-arrow-up").addClass("cp-arrow-down"),$(this).find(".cp-arrow").removeClass("cp-arrow-down").addClass("cp-arrow-up"),$(this).find(".options-wrap").find(".options").show(),$(".options").not($(this).find(".options")).hide()}else $(this).find(".cp-arrow").removeClass("cp-arrow-up").addClass("cp-arrow-down"),$(this).find(".options-wrap").find(".options").hide(),$(".options").not($(this).find(".options")).hide()}),$("body").on("click",".option",function(){var e=$(this).closest(".nselector");e.find(".curr").removeClass("curr");var o=$(this).html(),a=$(this).attr("value");$(this).addClass("curr").closest(".nselector").find(".result").html(o).attr("value",a);var i=$(this).closest(".nselect-wrap"),n=$(".nselect-wrap").index(i);$(".nselect-wrap:gt("+n+")").remove();var r=t.locationClass[n+1],s={parent_id:a};if(0==n)s.query_type="city",$("#myLocation").val("");else{if(1!=n)return void $("#myLocation").val("1");s.query_type="area",$("#myLocation").val("")}var l=n+1;ht.util.location.get(s,r,l)})}},nav:{init:function(){this.bindEvent()},bindEvent:function(){var t=this;t.navDrop(),$("#addFavBtn").click(function(){t.addFav("全球抢购 正品保正","http://www.qqqg.com/")})},navDrop:function(){$(".mcDropMenuBox").hover(function(){$(this).addClass("mcDropMenuBoxActive")},function(){$(this).removeClass("mcDropMenuBoxActive")})},addFav:function(e,o){try{t.external.addFavorite(o,e)}catch(a){try{t.sidebar.addPanel(e,o,"")}catch(a){t.alert("请尝试点击 Ctrl + D 来添加！")}}}},sticky:function(e,o,a){var i=e.offset().top;$(t).on("scroll",function(){var e=$(t).scrollTop();e>i?o():a()})},lazyGet:function(e,o,a){function i(){var t,e,o,a;return t=document.documentElement.scrollLeft||document.body.scrollLeft,e=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.clientWidth,a=document.documentElement.clientHeight,{left:t,top:e,width:o,height:a}}function n(t){var e,o,a=0,i=0;for(e=t.offsetWidth,o=t.offsetHeight;t.offsetParent;)a+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{left:a,top:i,width:e,height:o}}function r(t,e){var o,a,i,n,r,s;return o=t.left+t.width/2,a=e.left+e.width/2,i=t.top+t.height/2,n=e.top+e.height/2,r=(t.width+e.width)/2,s=(t.height+e.height)/2,Math.abs(o-a)<r&&Math.abs(i-n)<s}function s(){if(!e.hasClass("isLoaded")){var t=e[0],a=i(),s=n(t);return r(a,s)?(o(),void e.addClass("isLoaded")):void 0}}s(),t.onscroll=function(){s()},t.onresize=function(){s()}},shopcartFix:{init:function(){ht.util.sticky($("#rightBar2"),function(){$("#rightBar2").css({position:"fixed",top:"66"})},function(){$("#rightBar2").css({position:"fixed",top:"283"})})}},placeholder:function(){supportPlaceholder="placeholder"in document.createElement("input"),supportPlaceholder||($("[placeholder]").each(function(){$(this).after('<span class="inputTip">'+$(this).attr("placeholder")+"</span>")}),$("[placeholder]").keydown(function(){$(this).next(".inputTip").remove()}).focus(function(){}).blur(function(){""==$(this).val()&&$(this).after('<span class="inputTip">'+$(this).attr("placeholder")+"</span>")}))},getImgCode:function(){return"/common/image_code/?"+Math.random()},ex:{email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,mobile:/^1\d{10}$/,digital:/\d+/,lowercase:/[a-z]+/,uppercase:/[A-Z]+/,symbols:/[_!@#\$%\^&\*\(\)\\\|\/\?\.\<\>'"\{\}\[\]=\-\~\,\;\:\s]+/,password:/^[a-zA-Z0-9_!@#\$%\^&\*\(\)\\\|\/\?\.\<\>'"\{\}\[\]=\-\~\,\;\:\s]+$/,mobile_verify:/^\d{6}$/},popAlert:{setOps:function(){$.blockUI.defaults.css.border="2px solid #ccc",$.blockUI.defaults.css.cursor="cursor",$.blockUI.defaults.overlayCSS.opacity=.3,$.blockUI.defaults.overlayCSS.cursor="cursor"},run:function(t){var e=this;$.getMyScript("http://cdn.qqqg.com/web/js/plugin/jquery.blockui.js",function(){e.setOps(),t(),$(".blockUI").on("click",".iDialogClose,.iDialogNo",function(){$.unblockUI()})})},popHtml:function(t,e,o,a){var i='<a class="iDialogBtn focusBtn iDialogYes" rel="1" href="javascript:;"><span>确认</span></a><a class="iDialogBtn iDialogNo" rel="0" href="javascript:;"><span>取消</span></a>';o||(i="");var n=a?a:"提示",r="";return r+='<div id="'+e+'">',r+='    <div class="iDialogHead">',r+="        <h1>"+n+"</h1>",r+="    </div>",r+='    <a href="#" hidefocus="true" class="iDialogClose">×</a>',r+='    <div class="iDialogBody">',r+='        <div class="iDialogMain">',r+='            <div class="staDialogStyle" style="padding-right: 53px;"><i class="alert"></i>'+t+"</div>",r+="        </div>",r+="    </div>",r+='    <div class="iDialogFoot">'+i,r+="    </div>",r+="</div>"},confirm:function(t,e,o){var a="";return a=this.popHtml(t,e,1,o)},loading:function(e){$.getMyScript("http://cdn.qqqg.com/web/js/plugin/jquery.blockui.js",function(){$.blockUI({css:{border:"none",backgroundColor:"none",top:($(t).height()-100)/2+"px",left:($(t).width()-100)/2+"px",width:"100px"},overlayCSS:{backgroundColor:"#000",opacity:.3},message:'<img src="http://cdn.qqqg.com/web/images/loading42.gif" />'}),e&&e()})},alert:function(t,e){var o="";return o=this.popHtml(t,e,0)}},dialog:{show:function(t,e,o){var a=t/2,i=e/2;$("#dialog")[0]||$("body").append('<div class="ui-mask-dialog"></div><div id="dialog" class="ui-dialog" style="margin-left: '+a+"px;margin-top: "+i+'px"><div class="dialog-header">提示</div>'+o+'<a class="ui-dialog-close" href="javascript:;">×</a></div>'),$("#dialog").show(),$(".ui-mask-dialog").show()},remove:function(){$("#dialog").remove(),$(".ui-mask-dialog").remove()}},setCountDown:function(t,e){var o=parseInt(t.attr("v"),10),a=o-1;if(a>0){t.html("重新获取("+a+")").attr("v",a).addClass("btn_enabled");var i=setTimeout(function(){ht.util.setCountDown(t,e)},1e3)}else clearTimeout(i),t.html(e).removeClass("btn_enabled")},loginDialog:{init:function(){this.getMask(),this.getLoginDialog(),this.bindEvent()},getMask:function(){$(".ui-mask")[0]||$("body").append('<div class="ui-mask"></div>')},getLoginDialog:function(){!$("#login-dialog")[0]&&$("body").append(ht.util.loginDialog.getDom())},bindEvent:function(){$(".ui-mask").click(function(){$(".ui-dialog-close").click()}),$(".login").click(function(){$(".ui-mask").show(),$("#login-dialog").show(),$("#account-dialog").focus()}),$(".ui-dialog-close").click(function(){$("#login-dialog .ui-dialog-container").html(ht.util.loginDialog.getDomInner()),$(".ui-mask").hide(),$("#login-dialog").hide()}),$("#captcha").click(function(){$(this)[0].src=ht.util.getImgCode()}),$("#changeCaptcha").click(function(){$("#captcha")[0].src=ht.util.getImgCode()}),$("#login_dialog_tab-phone").click(function(){$("#login-form-sms").fadeOut("300",function(){$("#login-form").fadeIn("300")})}),$("#login_dialog_tab-sms").click(function(){$("#login-form").fadeOut("300",function(){$("#login-form-sms").fadeIn("300")})}),$("#login-dialog-getkey").click(function(){var t=$("#account-dialog-sms"),e=ht.util.login.validate.chkAccount(t,$("#login-form-sms"));if(!e)return!1;if($(this).hasClass("btn_enabled"))return!1;var o={phone:$("#account-dialog-sms").val()},a=60;$("#login-dialog-getkey").html("重新获取("+a+")").attr("v",a).addClass("btn_enabled"),$.get("/common/phone/code/",o,function(){ht.util.setCountDown($("#login-dialog-getkey"),"获取动态密码")})}),$("#login-dialog .m-thirdpart").hover(function(){$("#login-dialog-wait").show()},function(){$("#login-dialog-wait").hide()})},getDomInner:function(){var t="";t="",t+='         <form class="login-form" id="login-form" action="" method="post">',t+='             <div class="ui-form">',t+='                 <div class="ui-form-title">',t+="                     登录",t+='                     <span class="logoName">全球抢购</span>',t+="                 </div>",t+='                 <div class="ui-form-row">',t+='                     <span class="err">errText</span>',t+="                 </div>",t+='                 <div class="ui-form-row">',t+='                     <input type="text" autocomplete="off" class="form-control" name="account" placeholder="手机号码" maxlength="11" autofocus="" id="account-dialog" />',t+='                     <i class="icon-user"></i>',t+="                 </div>",t+='                 <div class="ui-form-row">',t+='                     <input type="password" autocomplete="off" class="form-control" name="password" placeholder="密码" id="password-dialog" />',t+="                 </div>",t+='                 <div class="ui-form-row row-captcha">',t+='                     <input type="text" class="form-control" name="captcha" maxlength="5" placeholder="验证码" data-rule="验证码必须为5个字符" id="captcha-dialog" />',t+='                     <a href="javascript:;" rel="reload-captcha"> <img src="http://cdn.qqqg.com/web/images/blank.gif" class="captcha" id="captcha" alt="看不清？点击是刷新" /> </a>',t+='                     <a href="javascript:;" rel="reload-captcha" id="changeCaptcha">换一张</a>',t+="                 </div>",t+='                 <div class="ui-form-row row-btn">',t+='                     <input type="button" class="btn-primary" value="登录" data-click-sc="login_button_on_dialog" id="loginBtnByPhone" />',t+="                 </div>",t+='                 <div class="ui-form-row forget ">',t+='                     <a class="login_dialog_tab" id="login_dialog_tab-sms" href="javascript:void(0);">短信快捷登录</a>',t+='                     <a class="" href="/reg.html">注册</a>',t+='                     <a href="/getpwd.html">忘记密码？</a>',t+="                 </div>",t+='                 <div class="ui-form-row thirdpart ">',t+="                 </div>",t+="             </div>",t+="         </form>",t+='         <form class="login-form" id="login-form-sms" action="" method="post" style="display: none;">',t+='             <div class="ui-form">',t+='                 <div class="ui-form-title">',t+="                     登录",t+='                     <span class="logoName">全球抢购</span>',t+="                 </div>",t+='                 <div class="ui-form-row">',t+='                     <span class="err">errText</span>',t+="                 </div>",t+='                 <div class="ui-form-row">',t+='                     <input type="text" autocomplete="off" class="form-control" name="account" placeholder="手机号码" maxlength="11" autofocus="" id="account-dialog-sms" />',t+='                     <i class="icon-user"></i>',t+="                 </div>",t+='                 <div class="ui-form-row">',t+='                     <input type="password" autocomplete="off" maxlength="4" class="form-control" name="password" placeholder="动态密码" id="keyword-dialog-sms" />',t+='                    <a id="login-dialog-getkey" class="btnMin">获取动态密码</a>',t+="                 </div>",t+='                 <div class="ui-form-row row-btn">',t+='                     <input type="button" class="btn-primary" value="登录" data-click-sc="login_button_on_dialog" id="loginBtnBySms-dialog" />',t+="                 </div>",t+='                 <div class="ui-form-row forget ">',t+='                     <a class="login_dialog_tab" id="login_dialog_tab-phone" href="javascript:void(0);">手机号登录</a>',t+='                     <a class="" href="reg.html">注册</a>',t+='                     <a href="/getpwd.html">忘记密码？</a>',t+="                 </div>",t+='                 <div class="ui-form-row thirdpart ">',t+='                     <ul class="m-thirdpart clearfix">',t+='                         <li class="zfb"> <a href="#" class="w-btn3"> <i class="w-icon w-icon-18 w-icon-18-2"></i><span>支付宝登录</span> </a> </li>',t+='                         <li class="wb"> <a href="#" class="w-btn3"> <i class="w-icon w-icon-18"></i><span>微博登录</span> </a> </li>',t+='                         <li class="qq"> <a href="#" class="w-btn3"> <i class="w-icon w-icon-18 w-icon-18-1"></i><span>QQ登录</span> </a> </li>',t+="                     </ul>",t+="                 </div>",t+="             </div>",t+="         </form>",t+='<div id="login-dialog-wait">敬请期待...</div>';var e=t;return e},getDom:function(){var t="";return t+='<div id="login-dialog" class="ui-dialog login-dialog">',t+='    <div class="ui-dialog-container">',t+=this.getDomInner(),t+="    </div>",t+='    <a href="javascript:;" class="ui-dialog-close">×</a>',t+="</div>"}},login:{init:function(){this.bindEvent()},labelErr:{show:function(t,e){var o=e.find(".err");o.html(t).show()},hide:function(t){var e=t.find(".err");e.html("").hide()}},getNext:function(){var t=ht.util.getQuery("next");return t?t:"/"},validate:{chkAccount:function(t,e){var o=!1,a=t,i=a.val();return""==i?(ht.util.login.labelErr.show("请输入电话号码",e),a.removeClass("err_label").addClass("err_label")):ht.util.ex.mobile.test(i)?(ht.util.login.labelErr.hide(e),a.removeClass("err_label"),o=!0):(ht.util.login.labelErr.show("请输入正确格式的手机号码",e),a.removeClass("err_label").addClass("err_label")),o},chkPassword:function(t){var e=!1,o=$("#password-dialog"),a=o.val();return""==a?(ht.util.login.labelErr.show("请输入密码",t),o.removeClass("err_label").addClass("err_label")):(ht.util.login.labelErr.hide(t),o.removeClass("err_label"),e=!0),e},chkCaptcha:function(t){return!0},chkSmskeyword:function(t){var e=!1,o=$("#keyword-dialog-sms");return 4!=o.val().length?(ht.util.login.labelErr.show("请输入动态密码",t),o.removeClass("err_label").addClass("err_label")):(ht.util.login.labelErr.hide(t),o.removeClass("err_label"),e=!0),e}},bindEvent:function(){$("#topNavWrap").on("click","#loginout",function(){ht.util.cookies.set("loginuser","",-10,".qqqg.com"),ht.util.cookies.set("loginuser","",-10);var e=t.location.href;e.indexOf("#")>-1&&(e=e.replace(/#/g,"")),t.location.href=e}),$("#password-dialog").keyup(function(t){13==t.keyCode&&$("#loginBtnByPhone").click()}),$("#keyword-dialog-sms").keyup(function(t){13==t.keyCode&&$("#loginBtnBySms-dialog").click()}),$("#login-dialog").on("click","#loginBtnByPhone",function(){var e=ht.util.login.validate.chkAccount($("#account-dialog"),$("#login-form"));if(!e)return!1;var o=ht.util.login.validate.chkPassword($("#login-form"));if(!o)return!1;var a=ht.util.login.validate.chkCaptcha($("#login-form"));if(!a)return!1;if(e&&o&&a){var i={login_type:"usename",usename:$("#account-dialog").val(),password:$("#password-dialog").val(),_xsrf:$("input[name=_xsrf]").val()};$.post("/login.html",i,function(e){var e=JSON.parse(e);return 200!=e.state?(ht.util.login.labelErr.show(e.info,$("#login-form")),!1):$("#toTelRegister")[0]?(t.location.href=ht.util.login.getNext(),!1):(1==$("#js_skuBox").attr("needCollect")&&$("#js_skuBox .m-favbtn").click(),$("#topNavLeft").html(e.header),void $(".ui-dialog-close").click())})}}),$("#login-dialog").on("click","#loginBtnBySms-dialog",function(){var e=ht.util.login.validate.chkAccount($("#account-dialog-sms"),$("#login-form-sms"));if(!e)return!1;var o=ht.util.login.validate.chkSmskeyword($("#login-form-sms"));if(!o)return!1;if(e&&o){var a={login_type:"phone",phone:$("#account-dialog-sms").val(),code:$("#keyword-dialog-sms").val(),_xsrf:$("input[name=_xsrf]").val()};$.post("/login.html",a,function(e){var e=JSON.parse(e);return 200!=e.state?(ht.util.login.labelErr.show(e.info,$("#login-form-sms")),!1):$("#toTelRegister")[0]?(t.location.href=ht.util.login.getNext(),!1):($("#topNavLeft").html(e.header),void $(".ui-dialog-close").click())})}})}},catalog:{init:function(){$(".mod-catalog li").hover(function(){$(this).addClass("active")},function(){$(this).removeClass("active")}),$(".item-catalog .btn-close").click(function(){$(this).parent().parent().removeClass("active")})}},slider:{init:function(){$(".prev,.next").hover(function(){$(this).stop(!0,!1).fadeTo("show",.9)},function(){$(this).stop(!0,!1).fadeTo("show",.4)}),$(".banner-box").slide({titCell:".hd ul",mainCell:".bd ul",effect:"fold",interTime:3500,delayTime:500,autoPlay:!0,autoPage:!0,trigger:"click"})}}},$(function(){ht.util.init()})}(window);