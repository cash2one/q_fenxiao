ht.list={init:function(){this.getData(function(){ht.list.getMoreData()}),this.stickySearch(),this.moveCurrent(),this.touchMoreMenu(),this.seeMoreMenus()},moveCurrent:function(){if($("#navTop .curr")[0]){var t=$(".js-navbox").width(),e=$("#navTop .curr")[0].offsetLeft+$("#navTop .curr").outerWidth(),a=e-t+84;e-t>40?(a=-a,$(".js-navbox").css({transform:"translate("+a+"px, 0px) translateZ(0px)"})):$(".js-navbox").css({transform:"translate(0px, 0px) translateZ(0px)"})}},seeMoreMenus:function(){var t=$("#m-dropdown");$("#navTop .select-btn").click(function(){t.addClass("show mask");var e=$("#navTop .navbox").html(),a=e.replace(/span/g,"li").replace(/width:20%/g,"");t.find(".floors").html(a)}),$("#m-dropdown .select-btn").click(function(){t.removeClass("show mask")}),$("#m-dropdown").click(function(t){var e=$(t.target);0==e.closest(".floors").length&&0==e.closest(".tit").length&&$(this).removeClass("show mask")})},touchMoreMenu:function(){function t(t){s=!0,a=t.touches[0].pageX;var e=/\-?[0-9]+/g;n=parseInt(i[0].style.webkitTransform.match(e)[0],10)}function e(t){if(s){t.preventDefault(),o=t.touches[0].pageX;var e=o-a;r=e>0?"right":"left",e=n+e,"right"==r&&e>0&&(e=0),"left"==r&&h>e&&(h>80&&(h=0),e=h),i.css({transform:"translate("+e+"px, 0px) translateZ(0px)"})}}var a,o,n,n,s=!1,r=0,i=$(".js-navbox"),c=$(".js-navbox").width(),l=0;$(".js-navbox span").each(function(){l+=$(this).outerWidth()});var h=c-l-80;i[0].addEventListener("touchstart",t),i[0].addEventListener("touchmove",e),i[0].addEventListener("touchend",function(){s=!1})},getMoreData:function(){var t=$("#waterLoading");ht.core.waterFall(200,t,function(){ht.list.getData(function(){ht.core.lazyLoad(),t.hide()})})},stickySearch:function(){var t=$("#navTop"),e=t.offset().top;$(window).on("scroll",function(){var a=$(window).scrollTop();a>e?t.addClass("topTabBoxFixed"):t.removeClass("topTabBoxFixed")})},page:1,getData:function(t){if($("#waterAllShow").is(":visible"))return void $("#waterLoading").hide();var e=$("#category_id").val(),a={category_id:e,page:ht.list.page};$.getJSON("/items",a,function(e){return ht.core.lazyLoad(),0==e.data.items.length?($("#waterLoading").hide(),void $("#waterAllShow").show()):($("#templateList").tmpl(e.data.items).appendTo("#list"),ht.core.lazyLoad(),ht.list.page++,void(t&&t()))})}},$(function(){ht.list.init()});